(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(34),o=n.n(r),i=(n(82),n.p,n(83),n(14)),s=n(3),l=n(45),d=n(20),u=n(23),j=n(8),b=n(17),O=n.n(b),p=n(30),m=n(32),f=n(64),h=n.n(f).a.create({baseURL:"http://127.0.0.1:8000/api/",headers:{"Content-Type":"multipart/form-data"}}),_=function(){return h.get("todo/").then((function(e){return e.data}))},x=function(e){return h.post("todo/tasks/",e).then((function(e){return e.data}))},v=function(e){return h.put("todo/tasks/".concat(e.get("id")),e).then((function(e){return e.data}))},N=function(e){return h.delete("todo/tasks/".concat(e)).then((function(e){return e.data}))},k="START_FETCHING",S="END_FETCHING",C="START_UPDATING",T="END_UPDATING",y="GET_TODO_SUCCESS",E="GET_TODO_FAIL",g="GET_TASKS_SUCCESS",F="GET_TASKS_FAIL",w="UPDATE_TASK_SUCCESS",D="DELETE_TASK_SUCCESS",U="CREATE_TASK_SUCCESS",A={todo:null,isFetching:!0,isUpdating:!1},M=function(){return{type:S}},G=function(){return{type:C}},I=function(){return{type:T}},K=function(e){return function(){var t=Object(p.a)(O.a.mark((function t(n){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(G()),t.next=4,v(e);case 4:c=t.sent,n({type:w,payload:c}),n(I()),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},L=n(131),R=n(2),z=a.a.memo((function(){return Object(R.jsx)("div",{className:"progress",children:Object(R.jsx)(L.a,{size:100})})})),P=n(42),V=n(132),H=n(133),J=Object(j.b)((function(e){return{}}),{createTask:function(e){return function(){var t=Object(p.a)(O.a.mark((function t(n){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(G()),t.next=4,x(e);case 4:c=t.sent,n({type:U,payload:c}),n(I()),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.createModal,n=e.setCreateModal,c=e.createTask,a=Object(j.d)((function(e){return e.todo.isUpdating})),r=Object(P.a)({initialValues:{title:"",description:""},onSubmit:function(e){var t=new FormData;Object.keys(e).forEach((function(n){return t.append(n,e[n])})),c(t).then((function(){r.resetForm(),n(!1)}))}}),o=Object(R.jsx)(H.a,{style:{fontSize:24},spin:!0});return Object(R.jsx)("div",{className:"custom-modal ".concat(t?"open":""),children:Object(R.jsxs)("div",{className:"modal__body shadow",children:[Object(R.jsx)("span",{onClick:function(){return n(!1)},className:"modal__close",children:Object(R.jsx)(d.a,{icon:u.c})}),Object(R.jsx)("h1",{className:"modal__title",children:"Create Task"}),Object(R.jsxs)("form",{onSubmit:r.handleSubmit,className:"modal__form",autoComplete:"off",children:[Object(R.jsxs)("div",{className:"form__input-block",children:[Object(R.jsx)("label",{htmlFor:"title",className:"form__label",children:"Title"}),Object(R.jsx)("input",{value:r.values.title,onChange:r.handleChange,type:"text",className:"form__input",name:"title",placeholder:"Title"})]}),Object(R.jsxs)("div",{className:"form__input-block",children:[Object(R.jsx)("label",{htmlFor:"description",className:"form__label",children:"Description"}),Object(R.jsx)("textarea",{value:r.values.description,onChange:r.handleChange,className:"form__input",name:"description",placeholder:"Description"})]}),Object(R.jsx)("button",{type:"submit",className:"todo__add",children:a?Object(R.jsx)(V.a,{indicator:o}):"Create"})]})]})})})),X=Object(j.b)((function(e){return{}}),{updateTask:K})((function(e){var t=e.editModals,n=e.setEditModal,c=e.task,a=e.updateTask,r=Object(j.d)((function(e){return e.todo.isUpdating})),o=Object(P.a)({initialValues:{title:c.title,description:c.description},onSubmit:function(e){var t=new FormData;Object.keys(e).forEach((function(n){return t.append(n,e[n])})),t.append("id",c.id),a(t).then((function(){n((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(i.a)({},c.id,!1))}))}))}}),l=Object(R.jsx)(H.a,{style:{fontSize:24},spin:!0});return Object(R.jsx)("div",{className:"custom-modal ".concat(t[c.id]?"open":""),children:Object(R.jsxs)("div",{className:"modal__body shadow",children:[Object(R.jsx)("span",{onClick:function(){return n((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(i.a)({},c.id,!1))}))},className:"modal__close",children:Object(R.jsx)(d.a,{icon:u.c})}),Object(R.jsx)("h1",{className:"modal__title",children:"Edit Task"}),Object(R.jsxs)("form",{onSubmit:o.handleSubmit,className:"modal__form",autoComplete:"off",children:[Object(R.jsxs)("div",{className:"form__input-block",children:[Object(R.jsx)("label",{htmlFor:"title",className:"form__label",children:"Title"}),Object(R.jsx)("input",{value:o.values.title,onChange:o.handleChange,type:"text",className:"form__input",name:"title",placeholder:"Title"})]}),Object(R.jsxs)("div",{className:"form__input-block",children:[Object(R.jsx)("label",{htmlFor:"description",className:"form__label",children:"Description"}),Object(R.jsx)("textarea",{value:o.values.description,onChange:o.handleChange,className:"form__input",name:"description",placeholder:"Description"})]}),Object(R.jsx)("button",{disabled:r,type:"submit",className:"todo__add",children:r?Object(R.jsx)(V.a,{indicator:l}):"Update"})]})]})})})),B=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(l.a)(r,2),b=o[0],m=o[1],f=Object(c.useState)({}),h=Object(l.a)(f,2),x=h[0],v=h[1],S=Object(j.d)((function(e){return e.todo.isFetching})),C=Object(j.d)((function(e){var t;return null===(t=e.todo.todo)||void 0===t?void 0:t.tasks})),T=Object(j.c)();Object(c.useEffect)((function(){T(function(){var e=Object(p.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:k}),e.next=4,_();case 4:n=e.sent,t({type:y,payload:n}),t(M()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(M());case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var E=function(e){var t;a((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},e.id,{deleteFetching:!0}))})),T((t=e.id,function(){var e=Object(p.a)(O.a.mark((function e(n){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(G()),e.next=4,N(t);case 4:c=e.sent,n({type:w,payload:c}),n(I()),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())).then((function(){return a((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},e.id,{deleteFetching:!1}))}))}))};if(S)return Object(R.jsx)(z,{});var g=Object(R.jsx)(H.a,{style:{fontSize:24},spin:!0});return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"todo shadow-lg",children:[Object(R.jsx)("div",{className:"todo__controls",children:Object(R.jsx)("button",{onClick:function(){m(!0)},className:"todo__add",children:"Add"})}),Object(R.jsx)("div",{className:"todo__list",children:C.map((function(e,t){var c,r;return Object(R.jsxs)("div",{className:"todo__item shadow",children:[Object(R.jsxs)("div",{className:"todo__item-info",children:[Object(R.jsx)("h2",{title:e.title,className:"todo__item-title",children:e.completed?Object(R.jsx)("strike",{children:e.title}):e.title}),Object(R.jsx)("p",{className:"todo__item-description",children:e.completed?Object(R.jsx)("strike",{children:e.description}):e.description})]}),Object(R.jsxs)("div",{className:"todo__item-controls",children:[Object(R.jsx)("button",{onClick:function(){return function(e){var t=new FormData,n=Object(s.a)(Object(s.a)({},e),{},{completed:!e.completed});Object.keys(n).forEach((function(e){return t.append(e,n[e])})),a((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},e.id,{completeFetching:!0}))})),T(K(t)).then((function(){return a((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},e.id,{completeFetching:!1}))}))}))}(e)},className:"todo__complete",children:(null===(c=n[e.id])||void 0===c?void 0:c.completeFetching)?Object(R.jsx)(V.a,{indicator:g}):Object(R.jsx)(d.a,{icon:u.a})}),Object(R.jsx)("button",{onClick:function(){return t=e.id,void v((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(i.a)({},t,!0))}));var t},className:"todo__edit",children:Object(R.jsx)(d.a,{icon:u.b})}),Object(R.jsx)("button",{onClick:function(){return E(e)},className:"todo__delete",children:(null===(r=n[e.id])||void 0===r?void 0:r.deleteFetching)?Object(R.jsx)(V.a,{indicator:g}):Object(R.jsx)(d.a,{icon:u.c})})]}),Object(R.jsx)(X,{task:e,setEditModal:v,editModals:x})]},e.id)}))})]}),Object(R.jsx)(J,{createModal:b,setCreateModal:m})]})};var q=function(){return Object(R.jsx)("div",{className:"App",children:Object(R.jsx)(B,{})})},Q=n(31),W=n(76),Y=Object(Q.b)({todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case k:return Object(s.a)(Object(s.a)({},e),{},{isFetching:!0});case S:return Object(s.a)(Object(s.a)({},e),{},{isFetching:!1});case C:return Object(s.a)(Object(s.a)({},e),{},{isUpdating:!0});case T:return Object(s.a)(Object(s.a)({},e),{},{isUpdating:!1});case y:return Object(s.a)(Object(s.a)({},e),{},{todo:Object(s.a)({},c),error:0});case E:return Object(s.a)(Object(s.a)({},e),{},{todo:null});case g:return Object(s.a)(Object(s.a)({},e),{},{todo:Object(s.a)(Object(s.a)({},e.todo),{},{tasks:Object(m.a)(c)})});case F:return Object(s.a)(Object(s.a)({},e),{},{todo:Object(s.a)(Object(s.a)({},e.todo),{},{todo:null})});case U:case w:case D:return Object(s.a)(Object(s.a)({},e),{},{todo:Object(s.a)(Object(s.a)({},e.todo),{},{tasks:Object(m.a)(c)})});default:return e}}}),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Q.c,$=Object(Q.d)(Y,Z(Object(Q.a)(W.a)));window.__store__=$;var ee=$;o.a.render(Object(R.jsx)(j.a,{store:ee,children:Object(R.jsx)(q,{})}),document.getElementById("root"))},82:function(e,t,n){},83:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.8bbcee2c.chunk.js.map